# Linear Life Calendar - 项目概览

## 项目背景

基于现有的 React 日历应用，使用 SwiftUI 和 EventKit 重新构建的原生 macOS 日历应用。保持了原有的"Linear Life"设计理念和年度线性视图特色，同时提供了更好的 macOS 原生体验。

## 核心特性对比

### 原 React 版本
- ✅ 年度线性视图
- ✅ 月视图
- ✅ 事件创建和管理
- ✅ ICS 文件导入
- ✅ 拖拽选择日期范围
- ✅ 中文本地化

### 新 SwiftUI 版本
- ✅ 年度线性视图（重新实现）
- ✅ 月视图（重新实现）
- ✅ 事件创建和管理
- ✅ **iCloud 日历集成**（新增）
- ✅ 拖拽选择日期范围
- ✅ 中文本地化
- ✅ **原生 macOS 体验**（新增）
- ✅ **EventKit 集成**（新增）
- ✅ **系统日历同步**（新增）

## 技术架构升级

### 数据层
- **原版**: 本地状态管理 + ICS 文件导入
- **新版**: EventKit + iCloud 同步 + 系统日历集成

### UI 层
- **原版**: React + CSS + Tailwind
- **新版**: SwiftUI + 原生 macOS 组件

### 状态管理
- **原版**: React useState/useEffect
- **新版**: SwiftUI @State/@StateObject + Combine

## 关键组件说明

### CalendarManager
核心数据管理器，负责：
- EventKit 权限请求和管理
- 日历事件的 CRUD 操作
- iCloud 数据同步
- 错误处理和状态管理

### YearView
年度线性视图的核心实现：
- 37列网格布局（保持原设计）
- 事件可视化和交互
- 拖拽选择功能
- 月份标签和导航

### MonthView
传统月历视图：
- 7x6 网格布局
- 事件显示和交互
- 跨月日期显示
- 响应式设计

### CreateEventView & EventDetailView
事件管理界面：
- 原生 macOS 表单设计
- 日期时间选择器
- 全天事件支持
- 地点和备注功能

## iOS 迁移策略

### 共享代码（90%+）
- 所有数据模型和业务逻辑
- CalendarManager 核心功能
- 日期处理工具
- 事件管理逻辑

### 平台特定调整
- 导航栏样式（macOS toolbar vs iOS navigation bar）
- 布局适配（鼠标 vs 触摸交互）
- 窗口管理（macOS 多窗口 vs iOS 单窗口）
- 系统集成（macOS 菜单栏 vs iOS 控制中心）

### 迁移步骤
1. **创建 iOS 目标**: 在现有项目中添加 iOS target
2. **共享核心代码**: 将 Models、Managers、Extensions 设为共享
3. **适配 UI 组件**: 使用条件编译处理平台差异
4. **测试和优化**: 确保两个平台的功能一致性

## 开发优势

### 性能优势
- **原生渲染**: SwiftUI 提供更好的性能和电池续航
- **内存效率**: 原生内存管理，避免 JavaScript 开销
- **系统集成**: 深度集成 macOS 系统功能

### 开发体验
- **类型安全**: Swift 强类型系统减少运行时错误
- **工具支持**: Xcode 提供完整的调试和性能分析工具
- **系统 API**: 直接访问 EventKit 等系统框架

### 用户体验
- **原生感受**: 完全符合 macOS 设计规范
- **系统集成**: 与系统日历、通知中心等无缝集成
- **性能流畅**: 原生渲染提供更流畅的交互体验

## 部署和分发

### 开发阶段
- 本地 Xcode 开发和测试
- 使用个人开发者证书签名
- 直接在开发机器上运行

### 生产部署
- **Mac App Store**: 官方应用商店分发
- **直接分发**: 公证后的 .dmg 文件分发
- **企业分发**: 企业开发者证书内部分发

## 未来扩展计划

### 短期目标
- [ ] 完善周视图和日视图
- [ ] 添加事件搜索功能
- [ ] 实现事件分类和标签
- [ ] 支持重复事件

### 中期目标
- [ ] iOS 版本开发
- [ ] Apple Watch 集成
- [ ] Siri 快捷指令支持
- [ ] 小组件支持

### 长期目标
- [ ] 团队协作功能
- [ ] 第三方日历服务集成
- [ ] AI 智能日程建议
- [ ] 跨平台数据同步

## 总结

这个 SwiftUI 版本的 Linear Life Calendar 不仅保持了原有的设计理念和用户体验，还通过原生技术栈带来了更好的性能、更深的系统集成和更广阔的扩展可能性。代码结构的设计也为后续的 iOS 迁移奠定了良好的基础。